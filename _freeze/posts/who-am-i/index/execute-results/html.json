{
  "hash": "d105b3bfbb88a19cb0a7b3e7a2addb19",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"FIMS Timeline\"\ndescription: \"Past, present, and future milestones of FIMS.\"\nauthor: Kelli F. Johnson\ndate: \"2025/01/02\"\nimage: images/featured.png\nexecute: \n  eval: true\n  echo: false\n  warning: false\nfreeze: true\nformat:\n  closeread-html:\n    css: timeline.css\n    cr-style:\n      narrative-background-color-sidebar: \"#00467F\"\n      narrative-text-color-sidebar: \"#FFFFFF\"\n      section-background-color: \"#FFFFFF\"\n      narrative-font-size: 14pt\n      narrative-font-family: Ubuntu\n    remove-header-space: true\n    debug-mode: false\n    embed-resources: true\n---\n\n\n:::{.cr-section}\n:::{focus-on=\"cr-open\"}\n# FIMS\n\n### Diving into the timeline for the Fisheries Integrated Modeling System (FIMS), a next-generation framework for assessments\n\nKelli F. Johnson<br>\nOffice of Science & Technology<br><br><br><br>\n\nWithin our team we have so much expertise in\n\n* Template Model Builder (TMB)\n* R\n* C++\n* git\n* GitHub actions\n* life history\n* fishery\n* statistics\n* Stan\n* Gaussian Markov random fields\n* economics\n* multi-species models\n\nIt is amazing. For example, when I started with FIMS I did not know C++ at all. Now, I can at least pattern match. Additionally, I had never used Stan but others had. It is great to be on a team with so much knowledge.\n:::\n\n:::{#cr-open .scale-to-fill}\n![](images/main.png)\n:::\n\n:::{focus-on=\"cr-open\" pan-to=\"100%,10%\" scale-by=\"4.25\"}\n## Kelli F. Johnson\n\n*Project Lead of FIMS* <br><br>\n\nAs an assessment scientist at the Northwest Fisheries Science Center, I authored assessments for sablefish, lingcod, and Pacific Hake. At the core, I love reproducible research and anything related to making other people's jobs easier. <br><br>\n\nIn 2021 I was asked to be one of the NWFSC representatives for FIMS. And, in June of 2024 I started a detail as the FIMS Project Lead. I love it and I applied for the permanent position, which started in November of 2024. I, and many others, are committed to bringing the Science Centers together with a common framework.\n:::\n\n:::{focus-on=\"cr-open\" pan-to=\"10%,-5%\" scale-by=\"2.6\"}\n## Framework\n\n*Backbone of FIMS is C++* <br><br>\n\n* **C++** is used to code the modules, e.g., `struct LogisticMaturity : public`\n* **R** is used to parameterize a model, e.g., `create_default_*()`, `initialize_*()`\n* **Template Model Builder (TMB)** is used to fit data to a model\n* `stats::nlminb()` is used to estimate the parameters\n* **R** is used to post-process the results, e.g., `ggplot2::ggplot()`\n:::\n\n:::{#cr-nicola .scale-to-fill}\n![](images/main.png)\n:::\n\n:::{focus-on=\"cr-frameworks\" scale-by=\"2.6\"}\n## Giants\n\n*If I have seen further,<br>\nit is by standing on the shoulders of giants.*\n<br><br>\n-- Sir Isaac Newton\n:::\n\n:::{#cr-frameworks}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n:::\n\n:::{focus-on=\"cr-mermaid-past\"}\n## Timeline\n\nA timeline using git commits and tags.\n:::\n\n:::{focus-on=\"cr-mermaid-past\" pan-to=\"115%,37%\" scale-by=\"3.25\"}\n## Past\n### Version 0.1.0.0\n\nThe start of an age-structured assessment model began with version 0.1.0.0. Major milestones for this release included the following:\n\n* C++ code to to build the necessary modules\n* the use of a single data frame to store all model data\n* rigorous testing suite using google tests and {testthat}\n:::\n\n:::{focus-on=\"cr-mermaid-past\" pan-to=\"25%,37%\" scale-by=\"3.25\"}\n## Past\n### Version 0.2.0.0\n\nCreated the fims::Vector class in C++. <br>\n\nTesting and the amount of code that those tests cover is extremely important to the Implementation Team. Code coverage is formally calculated using a GitHub action and each commit is compared to the previous commit to ensure code coverage does not significantly drop.\n:::\n\n:::{focus-on=\"cr-mermaid-past\" pan-to=\"-55%,10%\" scale-by=\"2.25\"}\n## Past\n### Version 0.3.0.0\n\nThe latest release (**TODAY**).\n\n* Fits to length data using an age-to-length-conversion matrix, `data1`\n  includes the necessary information needed to fit to both ages and lengths.\n* Adds C++ ParameterVector to allow for the estimation of time-varying\n  parameters.\n* Implements R wrapper functions to facilitate\n  * creating the input model specifications with `create_default_*()`,\n    `update_parameters()`, and `initialize_*()`;\n  * adding -999 to the missing fleet, year, age, length, etc. combinations;\n  * running the model with a user-supplied argument of n_of_loops, where the\n    default is three, to restart the optimizer from the previous run of nlmimb;\n  * summarizing the output with the `FIMSFit()` function and class.\n* Implements a switch for global verbosity within FIMS through the use\n  of {cli} messages and warnings.\n* Updates the logging system complete with a vignette about how to use it, the\n  logging system can be used for both R and C++ errors, warnings, and\n  information.\n* Creates the initial infrastructure to implement random effects with density\n  functions.\n* Implements a helper function to get the parameter names from the\n  C++ code and populate the results with those names.\n* Makes lpdf_vec return 0 if data is missing.\n:::\n\n:::{#cr-mermaid-past}\n\n\n```{mermaid}\ngitGraph:\n    commit id:\"2022-01-25\"\n    commit id:\"age-structured model\"\n    commit id:\"testing\"\n    commit id:\"FIMSFrame\"\n    commit id:\"2023-07-23\" tag:\"v0.1.0.0\"\n    commit id:\"fims::Vector\"\n    commit id:\"code coverage\"\n    commit id:\"logs\"\n    commit id:\"2023-12-23\" tag:\"v0.2.0.0\"\n    branch dev\n    checkout dev\n    commit id:\"FIMSFit\"\n    branch SPM\n    commit id:\"SPM\"\n    checkout dev\n    commit id:\"age-to-length\"\n    commit id:\"create_default_*()\"\n    checkout main\n    commit id:\"2025\"\n    merge dev\n    commit id:\"2025-01-02\" tag:\"v0.3.0.0\" type: HIGHLIGHT\n```\n\n\n:::\n\n:::{focus-on=\"cr-mermaid-future\"}\n## Timeline\n### Future\n\nThe future starts today!\n:::\n\n:::{focus-on=\"cr-mermaid-future\" pan-to=\"50%,50%\" scale-by=\"2.25\"}\n## Timeline\n### Future\n\n#### SPM\n\nThe surplus production model (SPM) puts the *S* in FIMS where it really is a system. Users will be able to go from an age-structured assessment model to a surplus production model with very few changes. Imagine now having to switch frameworks to be able to run an SPM as a diagnostic.\n\n#### CPUE\n\nCatch-per-unit-effort data cannot currently be used with a fleet that has landings. The change will allow for one selectivity curve for a fleet with both types of data instead of needing to input two different fleets.\n:::\n\n:::{focus-on=\"cr-mermaid-future\" pan-to=\"0%,-50%\" scale-by=\"1.01\"}\n## Timeline\n### Future\n\n#### TMBad\n\nCurrently, FIMS uses CppAD for auto differentiation. TMBad is newer and used by several frameworks that rely on TMB. The use of TMBad will allow users of RTMB to import FIMS functions such as the logistic maturity curve. For example, GMACS is being rewritten in TMB from ADMB and some of the FIMS functions could be helpful for the rewrite.\n\n#### Discards\n\n* discard mortality\n* retention curves\n* data availability\n:::\n\n:::{#cr-mermaid-future}\n\n\n```{mermaid}\ngitGraph:\n    commit id:\"2023-12-23\" tag:\"v0.2.0.0\"\n    branch SPM\n    commit id:\"2025-10-01\"\n    branch CPUE\n    commit\n    checkout main\n    commit id:\"2025-01-02\" tag:\"v0.3.0.0\" type: HIGHLIGHT\n    branch dev\n    checkout dev\n    commit\n    branch TMBad\n    commit id:\"2025-02-01\"\n    checkout dev\n    merge TMBad\n    checkout dev\n    merge SPM id:\"2025-02-15\"\n    checkout CPUE\n    commit id:\"2025-03-01\"\n    checkout dev\n    merge CPUE\n    checkout main\n    merge dev\n    commit id:\"2025-03-15\" tag:\"v0.4.0.0\"\n    checkout dev\n    branch discards\n    commit id:\"2025-04-01\"\n    checkout dev\n    merge discards\n```\n\n\n:::\n\n:::{focus-on=\"cr-mindmap\"}\n## Giants\n\n:::\n\n:::{#cr-mindmap}\n[![](https://mermaid.ink/img/pako:eNplkTFuwzAMRa9icE4v4LEoAnTIlK3wQku0o1oiBUpK4Qa5e-UGqGP3T-L7JCGSNzBiCVoIjm3A2HFTdSy5KDXH99P5ARYFZBwpEOeVLVIaSIkNNVEc57R1o8onmeyEnwxFthIaGoZq7QpecabkkLc0z5F2iU-NvtBP_00sWZRGpZTclVY_uW966TGRbUId3u_6GsV-S7z0KZNuYTLovcRd8aTOezhAIA3obF3sbUnoIF_q6jpo69OiTh10fK95yx_PMxtosxY6gEoZL9AO6FONSrSY6c3hqBj-aET-EFljsq4Oenrc8fec9x82MYjn?type=png)](https://mermaid.live/edit#pako:eNplkTFuwzAMRa9icE4v4LEoAnTIlK3wQku0o1oiBUpK4Qa5e-UGqGP3T-L7JCGSNzBiCVoIjm3A2HFTdSy5KDXH99P5ARYFZBwpEOeVLVIaSIkNNVEc57R1o8onmeyEnwxFthIaGoZq7QpecabkkLc0z5F2iU-NvtBP_00sWZRGpZTclVY_uW966TGRbUId3u_6GsV-S7z0KZNuYTLovcRd8aTOezhAIA3obF3sbUnoIF_q6jpo69OiTh10fK95yx_PMxtosxY6gEoZL9AO6FONSrSY6c3hqBj-aET-EFljsq4Oenrc8fec9x82MYjn)\n:::\n\n:::{focus-on=\"cr-open\"}\n\n<br>\n\n{{< fa globe >}} [noaa-fims.github.io](https://noaa-fims.github.io/)\n\n<br>\n\n{{< fa brands github >}} [source code](https://github.com/NOAA-FIMS/FIMS)\n\n<br>\n\n{{< fa book >}} [C++ documentation](https://noaa-fims.github.io/FIMS-docs/)\n\n<br>\n\n{{< fa book >}} [R documentation](https://noaa-fims.github.io/FIMS/)\n\n<br>\n\n{{< fa brands github >}} [workflow](https://noaa-fims.github.io/collaborative_workflow/)\n\n<br>\n\n{{< fa brands github >}} [case studies](https://noaa-fims.github.io/case-studies/)\n:::\n\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}